<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dependency tree visualization</title>


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="css/jquery-ui-redmond.css"> -->
    <!-- <link rel="stylesheet" href="css/main.css"> -->
    <link rel="stylesheet" href="css/style-vis.css">
    <style>
      body {
	  padding-top: 5rem;
      }

      .show-hide-div {
          display: none;
      }
    </style>

    <script type="text/javascript" src="head.load.min.js"></script>
  </head>

  <body>
    <main role="main" class="container">
      <form id="parseForm">
	<div class="form-group">
	  <label for="parseText">Text to parse</label>
	  <textarea class="form-control" id="parseText" rows="3">Dit is een test.</textarea> 
	</div>
	<button type="submit" class="btn btn-primary">Parse</button>
      </form>

      <div class="conllu-wrap">
	<div id="parseConllu" class="conllu" tabs="false" />
      </div>

    </main>

  </body>

  <script type="text/javascript">
    head.js(
        // External libraries
	'https://code.jquery.com/jquery-3.5.1.min.js',
        'lib/ext/jquery.svg.min.js',
	'https://code.jquery.com/ui/1.12.1/jquery-ui.min.js',
	//'https://code.jquery.com/jquery-3.5.1.slim.min.js',
        //'lib/ext/jquery.min.js',
        //'lib/ext/jquery.svgdom.min.js',
        //'lib/ext/jquery-ui.min.js',
        'lib/ext/waypoints.min.js',

        // brat helper modules
        'lib/brat/configuration.js',
        'lib/brat/util.js',
        'lib/brat/annotation_log.js',
        'lib/ext/webfont.js',
        // brat modules
        'lib/brat/dispatcher.js',
        'lib/brat/url_monitor.js',
        'lib/brat/visualizer.js',

        // annotation documentation support
        'lib/local/annodoc.js',
        'lib/local/config.js',

        // the conllu.js library itself
        'conllu.js',

	// bootstrap
	'https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js',
	'https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js'
    );

    var webFontURLs = [
        'static/fonts/PT_Sans-Caption-Web-Regular.ttf',
        'static/fonts/Liberation_Sans-Regular.ttf'
    ];

    /* not used here */
    var documentCollections = {};

    head.ready(function() {
	// performs all embedding and support functions
	// Annodoc.activate(Config.bratCollData, documentCollections);

	$("#parseForm").submit(function( event ) {
	    event.preventDefault();


	    var text = $('#parseText').val();
	    $.post("/parse", text, function(data) {
		$("#parseConllu").text(data);
		Annodoc.activate(Config.bratCollData, documentCollections);
	    });
	});
    });
  </script>
</html>
